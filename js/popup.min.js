function saveOptions(e,t){var n={};n[e]=t,chrome.storage.sync.set(n,function(){var e=document.getElementById("status");e.textContent="Options saved.",setTimeout(function(){e.textContent=""},750)})}function restoreOptions(){chrome.storage.sync.get({enabled:"true",customColor:"#EA1F23",defaultPage:"central"},function(e){var t=document.getElementById("enable");t.value=e.enabled,JSON.parse(t.value)?t.textContent="On":t.textContent="Off";var n=document.querySelector(".jscolor");n.value=e.customColor,n.style.backgroundColor=e.customColor,document.querySelector("#default-page").value=e.defaultPage})}function updateToggle(){var e=document.getElementById("enable");JSON.parse(e.value)?(e.value="false",e.textContent="Off"):(e.value="true",e.textContent="On",chrome.tabs.executeScript(null,{file:"js/script.min.js"}));var t=e.value;saveOptions("enabled",t)}function buildEventListener(e,t,n){document.querySelector(e).addEventListener(t,function(e){saveOptions(n,e.target.value)})}document.addEventListener("DOMContentLoaded",restoreOptions),document.getElementById("enable").addEventListener("click",function(){updateToggle(),chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.update(e[0].id,{url:e[0].url})})}),buildEventListener("#default-page","change","defaultPage"),buildEventListener(".jscolor","keyup","customColor");
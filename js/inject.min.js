var style=document.createElement("link");style.rel="stylesheet";style.type="text/css";style.id="customcss";style.href=chrome.extension.getURL("themes/modern/custom.css");chrome.storage.sync.get({enabled:"true"},function(a){if(a.enabled=="false"){$("link[href*='custom.css']").remove();style.href=chrome.extension.getURL("css/default.css");(document.head||document.documentElement).appendChild(style)}else{(document.head||document.documentElement).appendChild(style);checkScript()}});function checkScript(){modernTheme()}function modernTheme(){var a=["bg1.jpg","bg2.jpg","bg3.jpg","bg4.jpg","bg5.jpg","bg6.jpg","bg7.jpg","bg8.jpg","bg9.jpg","bg10.jpg","bg11.jpg","bg12.jpg","bg13.jpg","bg14.jpg","bg15.jpg","bg16.jpg","bg17.jpg","bg18.jpg","bg19.jpg","bg20.jpg"];if(window.location.pathname.indexOf("logout")!=-1){window.location.pathname="/"}if(window.location.pathname=="/cp/home/displaylogin"){$("body").addClass("login");$("body").css("background-image","url("+chrome.extension.getURL("img/"+a[Math.floor(Math.random()*a.length)])+")");$("#wrap").append('<div class="new-login"><form><img src="'+chrome.extension.getURL("img/myNEU.png")+'"><br><input name="neu-user" placeholder="Username" type="text"><br><input name="neu-pass" placeholder="Password" type="password"><br><button onclick="javascript:login();return true;" onload="clearCache()">Log in</button></form></div>');$(".helplinks li").each(function(){if($(this).html().indexOf("password.html")!=-1){$(".new-login form").append($(this))}});$("input[name=neu-user]").focus();$(".new-login").on("change",function(){var i=$("input[name=neu-user]").val();var j=$("input[name=neu-pass]").val();$("input[name=user]").val(i);$("input[name=pass]").val(j)});$(".new-login").on("click",function(i){i.preventDefault()});$("#wrap").append('<div class="footer-links">'+$(".footerlinks").html()+"</div>")}alertQueryCallback=function(){};$("#tabs_tda").each(function(){var i=$(this).html().replace(/<tbody>/g,"<div>");var j=i.replace(/<\/tbody>/g,"</div>").replace(/<tr>/g,"<ul>").replace(/<\/tr>/g,"</ul>").replace(/<td>/g,"<li>").replace(/<\/td>/g,"</li>").replace(/<tr/g,"<ul").replace(/<td/g,"<li");$(this).html('<div class="nav">'+j+'</div><div class="credits">Made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://github.com/Abbondanzo/Modern-MyNEU">Peter Abbondanzo</a></div>')});$(".bg1").closest("table").html('<div class="mylogo"><img src="'+chrome.extension.getURL("img/logo.png")+'"></div>');$("#welcome").closest("table").each(function(){var i=$(this).html().replace(/<tbody>/g,"<div>").replace(/Welcome/g,"Signed in as").replace(/You are currently logged in./g,"").replace(/&nbsp;/g,"");var j=i.replace(/<\/tbody>/g,"</div>").replace(/<br>/g,"").replace(/<tr>/g,"<ul>").replace(/<\/tr>/g,"</ul>").replace(/<td>/g,"<li>").replace(/<\/td>/g,"</li>").replace(/<tr/g,"<ul").replace(/<td/g,"<li");$(this).html('<div class="heading">'+j+"</div>");$(this).css("height",84+"px")});$(".uportal-label").each(function(){if($(this).html().indexOf("logout")!=-1){$(this).addClass("logout")}else{$(this).addClass("secondary")}});$("#welcome").parent().addClass("user");$(".uportal-label").each(function(){var i=$(this).html();switch(i){case"mail":$(this).html('<i class="fa fa-envelope" aria-hidden="true"></i> '+i);break;case"my profile":$(this).html('<i class="fa fa-cog" aria-hidden="true"></i> '+i);break;case"NUPay":$(this).html('<i class="fa fa-shopping-basket" aria-hidden="true"></i> '+i);break;case"help":$(this).html('<i class="fa fa-question-circle" aria-hidden="true"></i> '+i);$(this).closest("ul").append('<li class="search"><input type="type" id="searchQuery" placeholder="Search"></input></li>');break;case"logout":$(this).html(i+' <i class="fa fa-sign-out" aria-hidden="true"></i>');break;default:break}});$(".nav div ul li").each(function(){var i=$(this).children().children().html();if(i.indexOf("myNEU Central")!=-1){$(this).children().children().html('<i class="fa fa-home" aria-hidden="true"></i> '+i)}else{if(i.indexOf("Self-Service")!=-1){$(this).children().children().html('<i class="fa fa-navicon" aria-hidden="true"></i> '+i)}else{if(i.indexOf("Community")!=-1){$(this).children().children().html('<i class="fa fa-users" aria-hidden="true"></i> '+i)}else{if(i.indexOf("Experiential Learning/Co-op")!=-1){$(this).children().children().html('<i class="fa fa-graduation-cap" aria-hidden="true"></i> '+i)}else{if(i.indexOf("Career Development")!=-1){$(this).children().children().html('<i class="fa fa-briefcase" aria-hidden="true"></i> '+i)}else{if(i.indexOf("InfoChannels")!=-1){$(this).children().children().html('<i class="fa fa-info-circle" aria-hidden="true"></i> '+i)}}}}}}});$(".border img").each(function(){var j=$(this).attr("title");var i=$(this).attr("src");if(j!=null){if(j.indexOf("Expand")!=-1){$(this).parent().html('<i title="'+j+'" class="fa fa-expand" aria-hidden="true"></i>')}else{if(j.indexOf("Maximize")!=-1){$(this).parent().html('<i title="'+j+'" class="fa fa-caret-square-o-right" aria-hidden="true"></i>')}else{if(j.indexOf("Minimize")!=-1){$(this).parent().html('<i title="'+j+'" class="fa fa-caret-square-o-down" aria-hidden="true"></i>')}}}}else{if(i.indexOf("chan_remove_na")!=-1){$(this).css("display","none")}}});$("#searchQuery").on("keypress change keydown paste input",function(){var i=$(this).val().toLowerCase();$(".uportal-background-content td table").each(function(){var j=$(this).html().toLowerCase().replace(/<style(.|\s)*?style>/g,"").replace(/<script(.|\s)*?script>/g,"").replace(/<.*?>/g,"");if(j.indexOf(i)!=-1){$(this).css("display","table")}else{$(this).css("display","none")}})});var c=1275;function d(){var i=$(".heading");if(i.height()<i.children().height()){$(".secondary").each(function(){$(this).addClass("sreduce");if($(window).width()>c){c=$(window).width()}if($(this).html().indexOf("Signed")!=-1){$(this).css("display","none")}})}else{if($(window).width()>c){$(".secondary").each(function(){$(this).removeClass("sreduce");if($(this).html().indexOf("Signed")!=-1){$(this).css("display","block")}})}}}function h(){var k=$(".nav").offset().top;var i=$(".nav").height();var j=$(".credits").offset().top;if(k+i+40>=j){$(".credits").css("opacity",0)}else{$(".credits").css("opacity",0.2)}}if(window.location.pathname.indexOf("render")!=-1){var g;$(window).on("resize",function(){clearTimeout(g);g=setTimeout(function(){h();d()},50)});$(document).ready(function(i){setTimeout(function(){h();d()},50)})}$(".headerlinksdiv2 form").each(function(){var i=$(this).html();if(i.indexOf("Search")!=-1){$(this).html(i.slice(7,-1));$("input[type=text]").attr("placeholder","Search")}});if(window.location.pathname.indexOf("udcprod8")!=-1){var f=$(".pagetitlediv").find("h2").html();$(".pagebodydiv").prepend("<h2>"+f+"</h2>");$(".submenulinktext2").each(function(){var i=$(this).html();if(i.indexOf("RETURN TO MENU")!=-1){$(this).html('<i title="Return to Menu" class="fa fa-reply" aria-hidden="true"></i><span>'+i+"</span>")}else{if(i.indexOf("SITE MAP")!=-1){$(this).html('<i title="Site Map" class="fa fa-list" aria-hidden="true"></i><span>'+i+"</span>")}else{if(i.indexOf("HELP")!=-1){$(this).html('<i title="Help" class="fa fa-life-ring" aria-hidden="true"></i><span>'+i+"</span>")}}}});if(f=="Student Detail Schedule"){b()}}$("select:not([multiple])").each(function(){var o=this;$(o).wrap('<div class="select"></div>');var n=o.options;var l=$('<div class="current">'+n[n.selectedIndex].innerHTML.trim()+"</div>");$(o).before(l);var m='<div class="options">';for(var k=0;k<n.length;k++){m+='<div class="option" data-value="'+n[k].value+'">'+n[k].innerHTML.trim()+"</div>"}var j=$(m+"</div>");$(o).after(j);l.click(function(p){p.stopPropagation();var i=$(o).parent(".select");i.toggleClass("active");$(".select").not(i).removeClass("active")});j.find(".option").click(function(i){i.stopPropagation();l.html(this.innerHTML);o.value=$(this).data("value");$(o).parent(".select").removeClass("active")})});$("select[multiple]").each(function(){var p=this;$(p).wrap('<div class="select" style="width: 300px;"></div>');var n=p.options;var l=$('<div class="current">'+n[0].innerHTML.trim()+"</div>");$(p).before(l);var m='<div class="options" style="width: 300px;">';var o=$('<input type="text" placeholder="Search... (Coming soon!)" class="search" disabled>');for(var k=0;k<n.length;k++){m+='<div class="option'+(n[k].selected?" selected":"")+'" data-value="'+n[k].value+'">'+n[k].innerHTML.trim()+"</div>"}var j=$(m+"</div>");j.prepend(o);$(p).after(j);l.click(function(q){q.stopPropagation();var i=$(p).parent(".select");i.toggleClass("active");$(".select").not(i).removeClass("active")});o.click(function(i){i.stopPropagation()});j.find(".option").click(function(s){s.stopPropagation();var q=$(p).val();if(!q){q=[]}var r=$(this).data("value").toString();if($(this).hasClass("selected")){q.splice(q.indexOf(r),1)}else{if(r==="%"){j.find(".option.selected").removeClass("selected");q=["%"]}else{var i=q.indexOf("%");if(i!==-1){j.find('[data-value="%"].selected').removeClass("selected");q.splice(i,1)}q.push(r)}}$(this).toggleClass("selected");$(p).val(q);switch(q.length){case 0:l.html("Select an item");break;case 1:l.html(j.find('[data-value="'+q[0]+'"]').html());break;default:l.html(q.length+" items selected");break}})});$(document).click(function(){$(".select").removeClass("active")});function b(){console.log("ok")}function e(j){var i=$(".building-image");if(j.indexOf("Behrakis")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/behrakis.jpg"))}else{if(j.indexOf("West Village H")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/wvh.jpg"))}else{if(j.indexOf("West Village G")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/wvg.jpg"))}else{if(j.indexOf("West Village F")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/wvf.jpg"))}else{if(j.indexOf("International Village")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/iv.jpg"))}else{if(j.indexOf("Ryder Hall")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/ryder.jpg"))}else{if(j.indexOf("Forsyth")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/forsyth.jpg"))}else{if(j.indexOf("Richards")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/richards.jpg"))}else{if(j.indexOf("Ell")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/ell.jpg"))}else{if(j.indexOf("Dodge")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/dodge.jpg"))}else{if(j.indexOf("Hayden")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/hayden.jpg"))}else{if(j.indexOf("Hurtig")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/hurtig.jpg"))}else{if(j.indexOf("Mugar")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/mugar.jpg"))}else{if(j.indexOf("Robinson")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/robinson.jpg"))}else{if(j.indexOf("Snell Library")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/library.jpg"))}else{if(j.indexOf("Lake")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/lake.jpg"))}else{if(j.indexOf("Kariotis")!=-1){i.css("background-image",chrome.extension.getURL("img/buildings/kariotis.jpg"))}else{i.css("background-image",chrome.extension.getURL("img/buildings/campus.jpg"))}}}}}}}}}}}}}}}}}}};